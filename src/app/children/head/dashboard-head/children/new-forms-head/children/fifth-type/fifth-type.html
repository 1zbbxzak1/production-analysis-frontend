<app-back-header (backClicked)="goBack()"/>

<div class="type-1-container">
    <p class="tui-text_h4">
        Почасовой менее 1 изделия в смену
    </p>

    <div class="type-1-grid">
        <div class="first-container">
            <p class="tui-text_h6">
                Общая информация
            </p>

            <div class="operators">
                <p class="tui-text_body-s">
                    Исполнитель
                </p>

                <tui-combo-box
                    [formControl]="controlOperators"
                    [stringify]="stringify"
                    [tuiTextfieldLabelOutside]="true"
                    tuiTextfieldSize="m"
                >
                    Выберите

                    <tui-data-list-wrapper
                        *tuiDataList
                        [itemContent]="stringify | tuiStringifyContent"
                        [items]="operators | tuiFilterByInput"
                    />
                </tui-combo-box>
            </div>

            <div class="date-shifts">
                <div class="date-input-wrapper">
                    <p class="tui-text_body-s date">
                        Дата
                    </p>

                    <tui-textfield [content]="controlDate.value?.daySame(today) ? this.today : ''"
                                   tuiTextfieldSize="m">
                        <input
                            [formControl]="controlDate"
                            placeholder="ДД.ММ.ГГГГ"
                            tuiInputDate
                        />
                        <ng-template
                            let-close
                            tuiTextfieldDropdown
                        >
                            <tui-calendar/>
                            <button
                                (click)="controlDate.setValue(today); close()"
                                appearance="action"
                                class="button"
                                size="m"
                                tuiButton
                                type="button"
                            >
                                Сегодня
                            </button>
                        </ng-template>
                    </tui-textfield>
                </div>

                <div class="shift-input-wrapper">
                    <p class="tui-text_body-s shifts">
                        Смена
                    </p>

                    <tui-combo-box
                        [formControl]="controlShifts"
                        [stringify]="stringifyShift"
                        [tuiTextfieldLabelOutside]="true"
                        tuiTextfieldSize="m"
                    >
                        Выберите

                        <tui-data-list-wrapper
                            *tuiDataList
                            [itemContent]="stringifyShift | tuiStringifyContent"
                            [items]="shifts | tuiFilterByInput"
                        />
                    </tui-combo-box>
                </div>
            </div>
        </div>

        <div class="second-container">
            <p class="tui-text_h6 second">
                Информация о производстве
            </p>

            <div class="operators">
                <p class="tui-text_body-s">
                    Наименование продукции
                </p>

                <tui-combo-box
                    [formControl]="controlProducts"
                    [stringify]="stringifyProduct"
                    [tuiTextfieldLabelOutside]="true"
                    tuiTextfieldSize="m"
                >
                    Выберите

                    <tui-data-list-wrapper
                        *tuiDataList
                        [itemContent]="stringifyProduct | tuiStringifyContent"
                        [items]="products | tuiFilterByInput"
                    />
                </tui-combo-box>
            </div>
        </div>

        <div class="button-final">
            <button
                (click)="createForm()"
                [disabled]="isCompletedCreateForm()"
                appearance="primary"
                size="m"
                tuiButton
                type="button"
            >
                Создать
            </button>

            <button
                (click)="goBack()"
                appearance="outline"
                class="outline-b"
                size="m"
                tuiButton
                type="button"
            >
                Отменить
            </button>
        </div>
    </div>
</div>
